"use strict";var BCP47={};BCP47.parse=function(a){var b=/^(?:(en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(art-lojban|cel-gaulish|no-(?:bok|nyn)|zh-(?:guoyu|hakka|min|min-nan|xiang)))$|^(x(?:-[0-9a-z]{1,8})+)$|^(?:((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|[0-9]{3}))?((?:-(?:[a-z0-9]{5,8}|[0-9][a-z0-9]{3}))*)?((?:-[0-9a-wy-z](?:-[a-z0-9]{2,8}){1,})*)?(-x(?:-[0-9a-z]{1,8})+)?)$/i,c=b.exec(a);if(!c)return null;var d=c[4];d=d?d.split("-"):null;var e=null;d&&(e=d.shift());var f=c[7];f=f?f.split("-"):null,f&&f.shift();var g=c[9];g=g?g.split("-"):null,g&&(g.shift(),g.shift());var h=c[3];return h=h?h.split("-"):null,h&&h.shift(),{language:{language:e,extlang:d||[]},script:c[5]||null,region:c[6]||null,variant:f||null,extension:parseExtension(c[8]),privateuse:g||h||[],grandfathered:{irregular:c[1]||null,regular:c[2]||null}}},BCP47.isValid=function(a){return BCP47.parse(a)!==null};var parseExtension=function(a){if(!a)return[];var b=[],c,d,e=!1,f=!1,g="",h=!1;for(var i=0,j=a.length;i<j;i++){d=a[i];if(d==="-"&&!e){e=!0,c={singleton:null,extension:[]};continue}if(e&&!f){f=!0,c.singleton=d;continue}if(d==="-"){h?g.length===1?(h=!1,f=!1,b.push(c),c={singleton:null,extension:[]}):(c.extension.push(g),g=""):(g="",h=!0);continue}g+=d}return c.extension.push(g),b.push(c),b};module.exports=BCP47;